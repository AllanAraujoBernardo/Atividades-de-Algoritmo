<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercício 10</title>
</head>
<body>
    Entre como nome da linha de ônibus pego
    <input type="text" id="ipt_linha" placeholder="Linha">
<br><br>
    <button onclick="validar()">Gravar Buzão</button>
<br><br>
    Pesquise por uma linha
    <input type="text" id="ipt_pesquisa" placeholder="Linha Pesquisada">
<br><br>
    <button onclick="pesquisar()">Pesquisar</button>
<br><br>
    <div id="div_msg"></div>
<br><br>
    <div id="div_pesquisa"></div>
</body>
</html>

<script>
    var vt_linhas = [];

    function validar() {
        if (ipt_linha.value == '') {
            alert('Preencha o campos Linha');
        } else {
            gravar();
        }
    }

    function gravar() {
        vt_linhas.push(ipt_linha.value);
        ipt_linha.value = '';
        div_msg.innerHTML = '';

        for (var ax_contagem = 0; ax_contagem <= vt_linhas.length-1; ax_contagem++){
            div_msg.innerHTML += `${vt_linhas[ax_contagem]}<br>`;
        }
    }

    function pesquisar(){
        var total_ocorrencias = 0;
        var vt_ocorrencias = [];

        if (vt_linhas.indexOf(ipt_pesquisa.value) == -1) {
            div_pesquisa.innerHTML = `<b>Você nunca pegou essa linha</b>`
        } else {
            for (var ax_contagem = 0; ax_contagem <= vt_linhas.length-1; ax_contagem++) {
                if (vt_linhas[ax_contagem] == ipt_pesquisa.value) {
                    total_ocorrencias++;
                    vt_ocorrencias.push(ax_contagem+1);
                }
           }

            div_pesquisa.innerHTML = `<b>Você já pegou essa linha ${total_ocorrencias} vezes, nessa ordem: ${vt_ocorrencias}</b>`;
        }
    }
</script>